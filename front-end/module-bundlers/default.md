### モジュールバンドラー

## 役割

- 複数のモジュール管理
- 依存関係の改善
- パフォーマンスの最適化
- コード分割とlazyloading
- 複数ファイル形式のサポート
- 開発環境の効率化
- キャッシュバスティング
- モジュール化と再利用性
- 統合とビルドの一貫性

## バンドルしなかったらどうなる？

### HTTPリクエストによるオーバーヘッドの増加

プロジェクトには様々なファイルが含まれているでしょう。
HTML、CSS、JavaScriptや画像など。
これらのファイルをブラウザで配信するには複数回のHTTPリクエストが発生してしまいます。
JavaScriptファイルだけでも、プロジェクトによっては100を超えていることもあると思います。
HTTPリクエストには接続を確立するための手続きが複数存在します。
１回のHTTPリクエストが終わると接続が閉じるため、２回目はまた接続を確立するための手続きが必要になります。
ファイルをすべて読み込むためには数百回おこなうことになるため、接続を確立するためにかかる時間*n回の遅延が発生してしまいます。
そのため、HTTPリクエストを複数回おこなうことで接続オーバーヘッドが増加し、パフォーマンスの低下を引き起こします。

### 依存関係の問題

あるプロジェクトではjQueryを使用してすべてのJavaScriptコードを記述しているとします。
この場合、これらのファイル間には依存関係が発生しています。
jQueryファイルを読み込んでからほかのJSファイルを読み込まないとエラーが発生してしまいます。
依存関係があるため、ファイルの読み込み順序の管理を手動で行わないといけません。

### キャッシュの問題

ブラウザは初回に読み込まれたリソースをキャッシュするブラウザキャッシュという仕組みを採用しています。
これにより、２回目以降のアクセスではローカルストレージに保存されたキャッシュからファイルを取得します。

そのため、ファイルを更新した場合に古いファイルが表示されてしまうという問題が起こります。

ファイルを更新すると自動でブラウザが確認して更新後のファイルを読み込むように思うかもしれませんが、そうではありません。
キャッシュは指定された時間間隔でキャッシュを更新するもしくは、URLが変更されたためキャッシュを更新する。
この２パターンしかありません。

そのため、ファイルを更新した際には、ファイル名を変更することで更新後のファイルを読み込むことができます。

main.abcdef123456.js → main.ghijkl789123.js

一部のファイルのみが更新されるとほかのファイルとの整合性がとれなくなる可能性があります。

### ファイルの最適化

ファイルの圧縮やミニファイを手動でやる必要があり、抜けがあるとファイルの最適化不足になります。

## バンドルしよう

バンドルすることで開発効率が向上し、パフォーマンスも改善することができるためモジュールバンドラーを使用することがおすすめです。
